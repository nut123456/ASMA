% Combine data for F1-F23 (Ave and Std) into one matrix for each algorithm
data_combined = [
    2.44E-87, 2.86E+02, 1.68E-35, 3.19E+04, 3.15E-02, 1.21E+02, 5.61E-63, 1.54E-68, 6.97E-51; % F1 Ave
    4.62E-87, 126.22, 3.75E-35, 3971.67, 0.068, 56.55, 7.88E-63, 3.24E-68, 1.56E-50;          % F1 Std
    1.31E-43, 1.925, 3.05E-27, 233.44, 0.23, 5.58, 2.04E-31, 2.91E-35, 3.4E-27;               % F2 Ave
    1.64E-43, 0.409, 3.74E-27, 269.05, 0.26, 1.96, 3.98E-31, 5.76E-35, 4.3E-27;               % F2 Std
    8.72E-45, 1.38E+04, 1.55E-27, 4.41E+04, 2.41E-01, 9.38E+01, 9.27E-34, 6.11E-38, 6.29E-30; % F3 Ave
    1.74E-44, 7.04E+03, 3.11E-27, 2.30E+04, 2.58E-01, 1.03E+02, 1.84E-33, 1.22E-37, 1.26E-29  % F3 Std
    4.34E-40,	32.62,	16.46,	62.24,	7.90E-02,	2.59,	9.75E-27,	3.83E-35,	1.66E-25; % F4 Ave
    7.42E-40,	4.89,	32.91,	31.74,	8.71E-02,	1.87,	1.95E-26,	6.29E-35,	3.22E-25;     % F4 Std
    28.81,	6.79E+04,	28.95	,6.87E+07,	29.19,	1.92E+04,	28.90,	28.93,	28.86;% F5 Ave
    0.26,	3.74E+04,	0.81,	2.89E+07,	0.35,	1.63E+04,	0.10,	0.03,	0.12; % F5 Std
    4.90,	280.49,	2.85,	26022.11,	4.77,	82.90,	3.43,	3.18,	2.88 ;%F6
    0.41,	212.28,	1.80,	4087.69	,1.29	,83.16,	0.41	1.19	1.06 ;%F6
    0.001,	0.184	,0.002	,36.676,	0.081,	0.244,	0.001,	0.001,	0.002 ;%F7
    0.000,	0.066,	0.002,	10.103,	0.100,	0.135,	0.001,	0.001,	0.001 ;%F7
    -7909.42,	-9776.66,	-11089.6,	-4440.99,	-3587.6,	-4301.96,	-12379.6,	-10974,	-12089.5; %F8
    1385.86,	349.83,	2111.19	,358.87,	435.33,	492.46,	260.05,	1567.00,	375.17 ; %F8 
    5.68E-13,	60.42,	5.68E-14,	3.27E+02,	8.60E-02,	9.64,	4.55E-13,	2.84E-13,	5.40E-13; %F9
    5.12E-13,	4.42,	0.00,	3.96,	6.48E-02,	8.64,	1.14E-13,	2.27E-13,	4.83E-13 ; %F9
    4.44E-16,	5.21,	4.44E-16,	19.26,	0.01,	1.24,	4.44E-16,	4.44E-16,	0.01 ;%F10
    0.00,	1.02,	0.00,	0.18,	0.01,	1.75,	0.00,	0.00,	0.00;%; %F10
    3.16E-15,	2.97,	2.31E-14,	235.00	,0.04,	0.94	,1.05E-15,	5.38E-15,	6.66E-15 ;%F11
    2.39E-15,	1.18,	2.28E-14,	50.27,	0.04,	0.12,	6.11E-16,	5.16E-15,	4.22E-15 ;%F11
    0.50,	8.50,	0.21	,2.08E+08,	0.56,	4.07,	0.12	,0.35,	0.11 ;%F12
    0.12,	0.80,	0.18,	7.35E+07,	0.15	,3.39,	0.14	,0.26,	0.11 ; %F12
    2.51,	335.42,	1.76,	2.37E+08,	2.30,	38.87,	2.52	,2.97,	2.27 ; %F13
    0.24,	414.54,	1.03,	9.72E+07,	0.74	,43.04	,0.16	,0.02,	1.22 ; %F13
    1.00,	13.11,	3.47,	2.00,	2.76,	3.92	,4.16	,3.22,	4.45   ;    %F14
    0.00,	4.53,	2.14,	1.23,	0.80,	5.05,	4.93,	2.45	,2.55  ;      %F14
    5.58E-04,	1.85E-02,	1.20E-03,	2.75E-03	,2.33E-03	,1.19E-02,	1.30E-03	,7.08E-04	,1.03E-03 ; %F15
    6.65E-05,	3.46E-02,	4.82E-04,	7.92E-04,	1.93E-03,	9.32E-03,	4.67E-04,	2.20E-04,	5.58E-04;  %F15
    3.00,	3.32,	3.00,	3.01,	3.01	,3.00,	3.00	,3.00	,3.00 %F18
    0.00,	0.61,	1.09E-05,	6.45E-03,	8.06E-03	,0.00	,7.45E-07	,5.60E-05,	8.83E-05; %F18
    -3.86,	-3.86,	-3.86,	-3.86	,-3.80	,-3.86	,-3.86	,-3.86	,-3.86 ; %F19
    0.00,	0.00,	0.003,	0.003	,0.075,	0.001,	0.003	,0.003	,0.002 ; %F19
    -3.296,	-3.262,	-3.192,	-3.107	,-3.164	,-3.192	,-3.279,	-3.296	,-3.241; %F20
    0.059,	0.060,	0.004,	0.047,	0.049	,0.097,	0.060	,0.053	,0.079 ;%F20
    -10.15,	-6.60,	-10.14,	-4.64,	-5.86	,-4.14,	-10.15	,-9.14,	-6.07; %F21
    0.00,	3.02,	0.01	,1.28,	2.04,	3.00	,0.00	,2.02	,2.03;  %F21
    -10.40,	-5.99	,-10.38	,-3.63,	-4.58,	-5.94	,-8.28,	-9.34,	-9.34 ;  %F22
    0.00,	3.58,	0.01,	0.89	0.63,	3.69	,2.59,	2.12,	2.11 ; %F22
    -10.536,	-7.226,	-9.417,	-4.326	,-5.197	,-4.400	,-9.395	,-7.313	,-9.456; %F23
    0.000,	4.067,	2.148,	0.684,	2.586,	3.067	,2.136	,2.627,	2.147 ]; %F23


% Perform Friedman test (each row is an observation, each column is an algorithm)
[p, tbl, stats] = friedman(data_combined, 21); % 9 groups (21 functions with Ave and Std)

% Display results
disp('Friedman test p-value:');
disp(p);

disp('Mean ranks:');
disp(stats.meanranks);

% If you want to do a post-hoc test (multiple comparison)
c = multcompare(stats);

% Plotting the mean ranks
figure;
bar(stats.meanranks);
set(gca, 'XTickLabel', {'ASMA', 'AO', 'SMA', 'PLO', 'PO', 'ETO', 'ESMA', 'AOSMA', 'LSMA'});
xlabel('Algorithm');
ylabel('Mean Rank');
title('Friedman Mean Ranks for Algorithms (F1-F23)');
